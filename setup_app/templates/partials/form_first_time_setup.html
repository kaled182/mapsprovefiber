{% load static %}

<form method="post"
  class="max-w-2xl mx-auto mt-12 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-md p-8 space-y-8">
  {% csrf_token %}

  <div class="text-center space-y-1">
    <h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Integration Settings</h2>
    <p class="text-sm text-gray-500 dark:text-gray-400">Configure how this project connects to Zabbix and Google Maps</p>
  </div>

  <div class="space-y-6">
    <div>
      <label for="company_name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
        Company name
      </label>
      <input type="text" id="company_name" name="company_name" required
        class="w-full rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100 py-2.5 px-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
        placeholder="Acme Corp">
    </div>

    <div>
      <label for="custom_logo" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
        Company logo (PNG)
      </label>
      <input type="file" id="custom_logo" name="custom_logo" required
        class="w-full rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100 py-2.5 px-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
    </div>

    <div>
      <label for="zabbix_url" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
        Zabbix URL
      </label>
      <input type="text" id="zabbix_url" name="zabbix_url" required
        class="w-full rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100 py-2.5 px-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
        placeholder="https://zabbix.example.com">
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
        Zabbix authentication method
      </label>
      <div class="flex items-center gap-6">
        <label class="flex items-center gap-2 cursor-pointer text-base">
          <input type="radio" name="auth_type" value="token" checked class="text-blue-600 focus:ring-blue-500">
          <span class="text-gray-700 dark:text-gray-300">API token</span>
        </label>
        <label class="flex items-center gap-2 cursor-pointer text-base">
          <input type="radio" name="auth_type" value="login" class="text-blue-600 focus:ring-blue-500">
          <span class="text-gray-700 dark:text-gray-300">User and password</span>
        </label>
      </div>
    </div>

    <div id="token_field">
      <label for="zabbix_api_key" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
        Zabbix API key
      </label>
      <input type="text" id="zabbix_api_key" name="zabbix_api_key"
        class="w-full rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100 py-2.5 px-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
        placeholder="Paste the API token">
    </div>

    <div id="login_fields" class="hidden space-y-4">
      <div>
        <label for="zabbix_user" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
          Zabbix user
        </label>
        <input type="text" id="zabbix_user" name="zabbix_user"
          class="w-full rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100 py-2.5 px-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
          placeholder="Username">
      </div>
      <div>
        <label for="zabbix_password" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
          Zabbix password
        </label>
        <input type="password" id="zabbix_password" name="zabbix_password"
          class="w-full rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100 py-2.5 px-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
          placeholder="Password">
      </div>
    </div>

    <div>
      <label for="maps_api_key" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
        Google Maps API key
      </label>
      <input type="text" id="maps_api_key" name="maps_api_key" required
        class="w-full rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100 py-2.5 px-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
        placeholder="Paste your Google Maps key">
    </div>

    <div class="border-t border-gray-200 dark:border-gray-700 pt-5">
      <label for="unique_licence" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
        Licence key
      </label>
      <div class="flex flex-col sm:flex-row sm:items-center gap-3">
        <input type="text" id="unique_licence" name="unique_licence" required
          class="flex-1 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100 py-2.5 px-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
          placeholder="XXXXX-XXXXX-XXXXX">
        <button type="button"
          class="px-4 py-2.5 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-150 shadow-sm">
          Validate
        </button>
      </div>
    </div>
  </div>

  <div class="pt-6 border-t border-gray-200 dark:border-gray-700 flex justify-end">
    <button type="submit"
      class="px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-500 text-white text-sm font-semibold rounded-md hover:from-blue-700 hover:to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-150 shadow-sm">
      Save
    </button>
  </div>
</form>

<script src="{% static 'js/partials/form_first_time_setup.js' %}"></script>
